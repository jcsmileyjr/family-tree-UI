<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      
    <link rel="stylesheet" href="family-tree.css">  
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
      
    <title>Family Tree Creator</title>
  </head>
  <body class="container-fluid centerDiv">
    <!-- Display input fields to gather data regarding the immediate family -->  
    <section id="immediateFamily" class="centerDiv">  
      <header id="currentLocation">
        <div class="row">    
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">  
            <strong id="showCurrentStep">Step 1/3: Immediate Family</strong>
          </div>
        </div>
      </header>
      <!--Gather names of the parents -->    
      <article id="parents">
        <div class="row paternalWhiteSpace">
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">Father</div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="currentFather" tabindex="1" />
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipFather()">Skip</button>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">Mother</div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="currentMother" tabindex="2"/>
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipMother()">Skip</button>
          </div>
        </div>          
      </article>
     <!-- Gather names of the kids -->    
      <article class="row text-center" id="kids">
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">Child</div>
          <div class="col-xs-9 col-sm-6 col-md-6 col-lg-3 text-left">
            <input type="text" id="currentChildName" tabindex="3" />
          </div>         
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">  
          <button type="button" class="btn btn-warning" onclick="addKids()" >Add Child</button>
        </div>
        <aside id="showKids"></aside>  
      </article>
      <!-- Submit button to save inputted data and continue to next step (gather names of father side of the family) -->    
      <footer class="text-center" id="continue">          
          <button type="button" class="btn btn-success" onClick="showPaternalFamily()">Update Father's Family</button>              
      </footer>
    </section>
      
    <!-- Display input fields to gather data regarding the paternal side of the family -->  
    <section id="paternalFamily">  
      <header>
        <div class="row">    
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">  
            <strong id="showCurrentStep">Step 2/3: Paternal Family</strong>
          </div>
        </div>
      </header>
      <!--Gather names of the grand-parents -->    
      <article id="paternalParents">
        <div class="row paternalWhiteSpace">
          <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">Grand-father</div>
          <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="paternalFather" tabindex="4" />
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipFather()">Skip</button>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">Grand-mother</div>
          <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="paternalMother" tabindex="5" />
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipMother()">Skip</button>
          </div>
        </div>          
      </article>
     <!-- Gather names of the siblings -->
      <article class="row text-center" id="fatherSibling">
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-left">Siblings</div>
          <div class="col-xs-offset-1 col-xs-8 col-sm-6 col-md-6 col-lg-3 text-left">
            <input type="text" id="currentFatherSibling" tabindex="6" />
          </div>         
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">  
          <button type="button" class="btn btn-warning" onclick="addKids()" >Father's Sibling</button>
        </div>
        <aside id="showFatherSiblings"></aside>  
      </article>        
      <!-- Submit button to save inputted data and continue to next step (gather names of mother side of the family) -->    
      <footer class="text-center" id="continue">          
          <button type="button" class="btn btn-success" onClick="showMaternalFamily()">Update Mother's Family</button>              
      </footer>
    </section>
      
    <!-- Display input fields to gather data regarding the maternal side of the family -->  
    <section id="maternalFamily">  
      <header>
        <div class="row">    
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">  
            <strong id="showCurrentStep">Step 3/3: Maternal Family</strong>
          </div>
        </div>
      </header>
      <!--Gather names of the grand-parents -->    
      <article id="maternalParents">
        <div class="row paternalWhiteSpace">
          <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">Grand-father</div>
          <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="maternalFather" tabindex="7" />
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipFather()">Skip</button>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">Grand-mother</div>
          <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6">
            <input type="text" id="maternalMother" tabindex="8" />
          </div> 
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">
            <button type="button" class="btn btn-danger btn-xs" onclick="skipMother()">Skip</button>
          </div>
        </div>          
      </article>
     <!-- Gather names of the siblings -->
      <article class="row text-center" id="motherSibling">
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-left">Sibling</div>
          <div class="col-xs-offset-1 col-xs-8 col-sm-6 col-md-6 col-lg-3 text-left">
            <input type="text" id="currentMotherSibling" tabindex="9" />
          </div>         
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">  
          <button type="button" class="btn btn-warning" onclick="addKids()" >Mother's Sibling</button>
        </div>
        <aside id="showMotherSiblings"></aside>  
      </article>         
      <!-- Submit button to save inputted data and continue to next step (create family tree) -->    
      <footer class="text-center" id="continue">          
          <button type="button" class="btn btn-success" onclick="showFamilyTree()">Create Family Tree</button>              
      </footer>
    </section>

    <!-- Display family tree for immediate family, paternal, and maternal relationships -->  
    <section id="familyTree">  
      <header>
        <div class="row">    
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">  
            <strong id="showCurrentStep">Family Tree</strong>
          </div>
        </div>
      </header>
      <article class="grid-container" id="mainFamily">
        <div class="father">
          <div class="thumbnail">
            <i class="fas fa-chess-king fa-5x"></i>
            <div id="mainFamilyFather" class="caption">Unknown</div>
          </div>
        </div>
        <div class="mother">
          <div class="thumbnail">
            <i class="fas fa-chess-queen fa-5x"></i>
            <div id="mainFamilyMother" class="caption">Unknown</div>
          </div>          
        </div>
        <div id="mainFamilyKids" class="children"></div>  
      </article>
      <article class="grid-container"  id="maleFamily">
        <div class="father">
          <div class="thumbnail">
            <i class="fas fa-chess-king fa-5x"></i>
            <div id="paternalFamilyFather" class="caption">Father</div>
          </div>
        </div>
        <div class="mother">
          <div class="thumbnail">
            <i class="fas fa-chess-queen fa-5x"></i>
            <div id="paternalFamilyMother" class="caption">Mother</div>
          </div>          
        </div> 
        <div id="paternalFamilyKids" class="children"></div>
      </article>
      <article class="grid-container"  id="femaleFamily">
        <div class="father">
          <div class="thumbnail">
            <i class="fas fa-chess-king fa-5x"></i>
            <div id="maternalFamilyFather" class="caption">Father</div>
          </div>
        </div>
        <div class="mother">
          <div class="thumbnail">
            <i class="fas fa-chess-queen fa-5x"></i>
            <div id="maternalFamilyMother" class="caption">Mother</div>
          </div>          
        </div>
        <div id="maternalFamilyKids" class="children"></div>  
      </article>    
        
    </section>
      
  <script>
    
    //function to place user input curser in the first input box (father) when the app starts  
	function focusOnFatherInput() {
		document.getElementById('currentFather').focus();
	}
	
    //Loads the focusing function when the app starts  
    window.onload = focusOnFatherInput();      
    
    let currentStep = 1;
      
    //show the paternal family input form and hide the immediate family input form  
    function showPaternalFamily(){
      let immediateFamily = document.getElementById("immediateFamily");
      
      immediateFamily.style.display = "none";
        
      let paternalFamily = document.getElementById("paternalFamily");
        
      paternalFamily.style.display = "block";
        
      //Saves the current family names to the savedCurrentFamily array to be displayed later in the family tree.    
      saveCurrentFamily();  
        
      //update currentStep to be use in addKid()
      currentStep = 2;
              
      //Set the focus to the first input on the page    
      document.getElementById('paternalFather').focus();
        
//Testing
console.log("current parents " + savedCurrentFamily);        
    }
      
    //show the maternal family input form and hide the paternal family input form  
    function showMaternalFamily(){
      let paternalFamily = document.getElementById("paternalFamily");
      
      paternalFamily.style.display = "none";
        
      let maternalFamily = document.getElementById("maternalFamily");
        
      maternalFamily.style.display = "block";
        
      //Saves the current family names to the savedCurrentFamily array to be displayed later in the family tree.    
      savePaternalFamily();         
        
      //update currentStep to be use in addKid()
      currentStep = 3;
        
      //Set the focus to the first input on the page    
      document.getElementById('maternalFather').focus();
        
//Testing
console.log("current paternal parents " + savedPaternalFamily);        
    }
      
    //show the family tree  
    function showFamilyTree(){
//Testing
console.log("current maternal parents " + savedMaternalFamily);         
      //Saves the current family names to the savedCurrentFamily array to be displayed later in the family tree.    
      saveMaternalFamily();  
        
      let maternalFamily = document.getElementById("maternalFamily");
      
      maternalFamily.style.display = "none";
        
      let familyTree = document.getElementById("familyTree");
        
      familyTree.style.display = "block";
        
      //dynamic load the paternal family tree        
      immediateFamilyTree();
        
      //dynamic load the paternal family tree
      paternalFamilyTree();
        
      //dynamic load the maternal family tree
      maternalFamilyTree();          
    } 
      
    //function use in the showFamilyTree() to append names of the current family members to the trees in the family tree
    function immediateFamilyTree(){
      const mainFather = document.getElementById("mainFamilyFather");
        
      //Use the first spot in the array to display  the father name
      mainFather.innerHTML = savedCurrentFamily[0];
        
      //Use the second spot in the array to display  the mother name        
      const mainMother = document.getElementById("mainFamilyMother");
        
      mainMother.innerHTML = savedCurrentFamily[1];
        
      //Use an array to cycle through kids names to be displayead        
      for(var i=2; i<savedCurrentFamily.length; i++){
        let childDiv = document.createElement("div");
          
        childDiv.classList.add("thumbnail");
          
        childDiv.innerHTML = '<i class="fas fa-chess-pawn fa-5x"></i>';
          
        let childNameDiv = document.createElement("div");
          
        childNameDiv.classList.add("caption");
          
        childNameDiv.innerHTML = savedCurrentFamily[i];
        
        childDiv.append(childNameDiv);
          
        const mainChildren = document.getElementById("mainFamilyKids");
          
        mainChildren.append(childDiv);
      }//end of for-loop
        
    }
      
    let savedPaternalFamily = []; //array to hold the entire names of current family members to be display in the family tree      
      
    //function use in the showFamilyTree() to append names of the current family members to the trees in the family tree
    function paternalFamilyTree(){
      const paternalFather = document.getElementById("paternalFamilyFather");
        
      //Use the first spot in the array to display  the father name
      paternalFather.innerHTML = savedPaternalFamily[0];
        
      //Use the second spot in the array to display  the mother name        
      const paternalMother = document.getElementById("paternalFamilyMother");
        
      paternalMother.innerHTML = savedPaternalFamily[1];
        
      //Use an array to cycle through kids names to be displayead        
      for(var i=2; i<savedPaternalFamily.length; i++){
        let childDiv = document.createElement("div");
          
        childDiv.classList.add("thumbnail");
          
        childDiv.innerHTML = '<i class="fas fa-chess-pawn fa-5x"></i>';
          
        let childNameDiv = document.createElement("div");
          
        childNameDiv.classList.add("caption");
          
        childNameDiv.innerHTML = savedPaternalFamily[i];
        
        childDiv.append(childNameDiv);
          
        const paternalmainChildren = document.getElementById("paternalFamilyKids");
          
        paternalmainChildren.append(childDiv);
      }//end of for-loop
        
    }//end of paternalFamilyTree()
      
    let savedMaternalFamily = []; //array to hold the entire names of current family members to be display in the family tree      
      
    //function use in the showFamilyTree() to append names of the maternal family members to the trees in the family tree
    function maternalFamilyTree(){
      const maternalFather = document.getElementById("maternalFamilyFather");
        
      //Use the first spot in the array to display  the mother name
      maternalFather.innerHTML = savedMaternalFamily[0];
        
      //Use the second spot in the array to display  the mother name        
      const maternalMother = document.getElementById("maternalFamilyMother");
        
      maternalMother.innerHTML = savedMaternalFamily[1];
        
      //Use an array to cycle through kids names to be displayead        
      for(var i=2; i<savedMaternalFamily.length; i++){
        let childDiv = document.createElement("div");
          
        childDiv.classList.add("thumbnail");
          
        childDiv.innerHTML = '<i class="fas fa-chess-pawn fa-5x"></i>';
          
        let childNameDiv = document.createElement("div");
          
        childNameDiv.classList.add("caption");
          
        childNameDiv.innerHTML = savedMaternalFamily[i];
        
        childDiv.append(childNameDiv);
          
        const maternalmainChildren = document.getElementById("maternalFamilyKids");
          
        maternalmainChildren.append(childDiv);
      }//end of for-loop
        
    }//end of maternalFamilyTree()
      
    //received as parameters the child name and where the name will be appended. The function will then display the name inside a html element and refocus the user mouse to the child input name box
    function showChildren(newChild, kidsDiv){
      //create a new html element to display the child's name
      let displayName = document.createElement("strong")
          
      //add the new name into the displayName html element
      displayName.innerHTML = newChild.value;
          
      //add styles to it    
      displayName.classList.add("addChildrenStyle"); 
        
      //add it to the end of the children portion of the UI    
      kidsDiv.append(displayName);          
        
      //clear the immediate family child input field for reuse
      newChild.value = "";
        
      //refocus the user to the child's input box to add another name    
      newChild.focus();         
    }
      
    //function to add children to the current parents. This is based on the current step which is updated when the view changes.  
    function addKids(){        
      if(currentStep === 1){
        //get the input field for the child    
        let newChild = document.getElementById("currentChildName");        
        //get the kids div of the UI
        const kidsDiv = document.getElementById("showKids");
          
        //Save the child name to the savedCurrentKids array. This array is added to the savedCurrentFamily (or paternal/maternal) array later to be displayed in the family tree.
        saveCurrentKids();
        
        //Use the child name and place to show the name as parameters. This is use to display the kids names as they are entered.   
        showChildren(newChild, kidsDiv); 
          
      }else if(currentStep === 2){
        //get the input field for the child    
        let newChild = document.getElementById("currentFatherSibling");        
        //get the kids div of the UI
        const kidsDiv = document.getElementById("showFatherSiblings");
          
        //Save the child name to the savedCurrentKids array. This array is added to the savedCurrentFamily (or paternal/maternal) array later to be displayed in the family tree.
        saveCurrentKids();          
          
        //Use the child name and place to show the name as parameters. This is use to display the kids names as they are entered.
        showChildren(newChild, kidsDiv);
          
      }else {
        //get the input field for the child    
        let newChild = document.getElementById("currentMotherSibling");        
        //get the kids div of the UI
        const kidsDiv = document.getElementById("showMotherSiblings");
          
        //Save the child name to the savedCurrentKids array. This array is added to the savedCurrentFamily (or paternal/maternal) array later to be displayed in the family tree.
        saveCurrentKids();          
          
        //Use the child name and place to show the name as parameters. This is use to display the kids names as they are entered.
        showChildren(newChild, kidsDiv);            
      }     
    }
     
    let savedCurrentFamily = []; //array to hold the entire names of current family members to be display in the family tree
      
    let savedCurrentKids = []; //array to hold all the kids names 
      
    let savedCurrentParents = []; //array to hold both parents names
      
    //get inputted data for the parents, place in a array to be displayed in the family tree
    function saveCurrentFamily(){
      savedCurrentParents.push(document.getElementById("currentFather").value);
        
      savedCurrentParents.push(document.getElementById("currentMother").value); 
        
      savedCurrentFamily = savedCurrentParents.concat(savedCurrentKids); 
        
      resetSavedKidsParentsArray();

    }
      
    //get inputted data for the parents, place in a array to be displayed in the family tree
    function savePaternalFamily(){
      savedCurrentParents.push(document.getElementById("paternalFather").value);
        
      savedCurrentParents.push(document.getElementById("paternalMother").value); 
        
      savedPaternalFamily = savedCurrentParents.concat(savedCurrentKids); 
        
      resetSavedKidsParentsArray();

    }
      
    //get inputted data for the parents, place in a array to be displayed in the family tree
    function saveMaternalFamily(){
      savedCurrentParents.push(document.getElementById("maternalFather").value);
        
      savedCurrentParents.push(document.getElementById("maternalMother").value); 
        
      savedMaternalFamily = savedCurrentParents.concat(savedCurrentKids); 
        
      resetSavedKidsParentsArray();

    }       
      
    function resetSavedKidsParentsArray(){
        savedCurrentKids = [];
        savedCurrentParents = [];
    }
      
    //save the kids names to an array to be added later to the family array.
    function saveCurrentKids(){
      if(currentStep===1){
        savedCurrentKids.push(document.getElementById("currentChildName").value);          
      }else if(currentStep ===2){
        savedCurrentKids.push(document.getElementById("currentFatherSibling").value);           
      }else {
        savedCurrentKids.push(document.getElementById("currentMotherSibling").value);           
      }    
    }      
      
    //Set a varible to hold input containing kids name to be use to add a event listener for the enter button  
    const currentChildInput = document.getElementById("currentChildName");
      
    //adds a event listner for the enter button to add a child  
    currentChildInput.addEventListener("keyup", function(event){
        event.preventDefault();
        
        if(event.keyCode === 13){
            addKids();
        }
    });
      
    //Set a varible to hold input containing kids name to be use to add a event listener for the enter button  
    const currentFatherSiblingInput = document.getElementById("currentFatherSibling");
      
    //adds a event listner for the enter button to add a child  
    currentFatherSiblingInput.addEventListener("keyup", function(event){
        event.preventDefault();
        
        if(event.keyCode === 13){
            addKids();
        }
    });
      
    //Set a varible to hold input containing kids name to be use to add a event listener for the enter button  
    const currentMotherSiblingInput = document.getElementById("currentMotherSibling");
      
    //adds a event listner for the enter button to add a child  
    currentMotherSiblingInput.addEventListener("keyup", function(event){
        event.preventDefault();
        
        if(event.keyCode === 13){
            addKids();
        }
    });      
      
    //function to grey out the father input field based on which family form the user is on. 
    function skipFather(){
      if(currentStep === 1){
        let skipDad = document.getElementById("currentFather");
          
        //add a grey background to the input field  
        skipDad.classList.add("skipParent");
      }else if(currentStep === 2){
        let skipDad = document.getElementById("paternalFather");
          
        //add a grey background to the input field  
        skipDad.classList.add("skipParent");          
      }else{
        let skipDad = document.getElementById("maternalFather");
          
        //add a grey background to the input field  
        skipDad.classList.add("skipParent");            
      }    
    }
      
    //function to grey out the mother input field based on which family form the user is on. 
    function skipMother(){
      if(currentStep === 1){
        let skipMom = document.getElementById("currentMother");
          
        //add a grey background to the input field  
        skipMom.classList.add("skipParent");
      }else if(currentStep === 2){
        let skipMom = document.getElementById("paternalMother");
          
        //add a grey background to the input field  
        skipMom.classList.add("skipParent");          
      }else{
        let skipMom = document.getElementById("maternalMother");
          
        //add a grey background to the input field  
        skipMom.classList.add("skipParent");           
      }    
    }    

      
  </script>      
  </body>
</html>